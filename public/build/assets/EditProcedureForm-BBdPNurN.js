import{j as e,W as x}from"./app-DllE_dMi.js";import{T as p,I as u}from"./TextInput-DFlsiAce.js";import{I as j}from"./InputLabel-C3-qXOnj.js";import{P as h}from"./PrimaryButton-OsULsf-x.js";import{D as f,S as g}from"./SecondaryButton-IeQZD-IV.js";import{q as v}from"./transition-CqPzONSB.js";function b({value:t,onChange:i,errors:l}){const c=(n,s)=>t.map((a,r)=>n===r?s:a),o=()=>t.length>=10?t:[...t,""],m=n=>t.filter((s,a)=>a!==n);return e.jsxs("div",{className:"space-y-4",children:[t.map((n,s)=>{var a;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex items-center justify-center px-4 bg-blue-400 text-white",children:e.jsx("span",{children:s+1})}),e.jsx(p,{id:`steps.${s+1}`,className:"flex-1",value:t[s],onChange:r=>i(c(s,r.target.value)),required:!0}),e.jsx("div",{className:"flex items-stretch",children:e.jsx(f,{disabled:s===0,onClick:r=>{r.preventDefault(),i(m(s))},tyoe:"button",children:"×"})})]}),e.jsx("div",{children:e.jsx(u,{message:(a=l==null?void 0:l.steps)==null?void 0:a[s]})})]},s)}),e.jsx("div",{children:e.jsx(g,{disabled:t.length>=10,onClick:()=>i(o()),children:"Agregar"})})]})}function q({procedure:t}){var a;const{data:i,setData:l,post:d,put:c,errors:o,processing:m,recentlySuccessful:n}=x({title:t.title,steps:t.steps}),s=r=>{r.preventDefault(),t.id?c(route("procedures.update",t)):d(route("procedures.store"))};return e.jsxs("form",{onSubmit:s,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"title",value:"Título"}),e.jsx(p,{id:"title",className:"mt-1 block w-full",value:i.title,onChange:r=>l("title",r.target.value),required:!0}),e.jsx(u,{className:"mt-2",message:o.title})]}),e.jsx("div",{children:e.jsx(b,{value:i.steps,onChange:r=>l("steps",r),errors:(a=i.errors)==null?void 0:a.steps})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{disabled:m,children:"Guardar"}),e.jsx(v,{show:n,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Guardado correctamente."})})]})]})}export{q as default};
